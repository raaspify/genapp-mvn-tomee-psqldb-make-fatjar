<?xml version="1.0" encoding="iso-8859-1"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition  xmlns="http://www.w3.org/1999/xhtml"
                 xmlns:ui="http://java.sun.com/jsf/facelets"
                 xmlns:h="http://java.sun.com/jsf/html"
                 xmlns:f="http://java.sun.com/jsf/core"
                 xmlns:c="http://java.sun.com/jsp/jstl/core"
                 xmlns:fn="http://java.sun.com/jsp/jstl/functions"
                 xmlns:pt="http://xmlns.jcp.org/jsf/passthrough"
                 xmlns:o="http://omnifaces.org/ui"
                template="layout/rtemplateUi.xhtml">
<f:metadata>
    <f:viewParam name="imail" value="#{fpxxfq1a5xwwqqhxxxxxitemHome.imailaddr}"/>
    <f:viewParam name="imailAlt" value="#{fpxxfq1a5xwwqqhxxxxxitemHome.imailaddrAlt}"/>
    <f:viewParam name="poSid" value="#{fpxxfq1a5xwwqqhxxxxxitemHome.valueOverRide}"/>
    <f:viewParam name="themeFrom" value="#{skinBean.holdValue3}"/>
    <f:viewAction action="#{fpxxfq1a5xwwqqhxxxxxitemList.setCategory(0)}" />
</f:metadata>

<ui:define name="title">#{messages['ThemesBrowse_page_title']}</ui:define>
<ui:define name="body">
<h:form id="uploadForm" enctype="multipart/form-data"> 

    <ui:remove>
     Not Generated. Allows importing csv file containing one theme or a group of themes into theme gallery.
     Import allows csv text data to be sql inserted into the following tables.
     item record with type SI-D contains theme description and subcodesn has TH and subcodesn3 has theme 
     category/name
     clob records with keys corresponding the html page or sections, conrain html images url and css styles and 
     sample text.
     blob records with keys corresponding to the image urls.
     binary data is in base64 text and needs to be converted back to binary by Import logic.
 
     called by  menu Tools>Import theme to gallery .
     There is a corresponding export which is used the theme creator or vendor to export a theme content as
     csv file which can be downloaded for use for a new master site using RAASPI frame work.
     we have a few options to replace richfaces fileUpload.
     1. Without jsf, then we will use html5 input tag type file and a servlet defined in web.xml for fileupload. But this 
      will also mean using js and rest api endponts to update html pages from server data.
     2. Continue to use jsf and use use h:inputFile which renders html5 and use existing jsf sevlet cdi beans methods.
     We are opting for option 2 using jsf. There is a separate initiative to migrate Raaspi to node.js.
   
    </ui:remove>
<style>
body {
    background: #eee
}

.item .item-content {
    padding: 30px 35px
}

.file-upload {
    width: 100%;
    height: 300px;
    border: 1px dashed #ddd;
    border-radius: 5px;
    margin-bottom: 20px;
    position: relative;
    text-align: center;
    background: #f8f8f9;
    color: #666;
    overflow: hidden
}

.item-wrapper form uploadForm {
    margin-bottom: 20px;
    width: auto;
    height: auto;
    max-height: 400px;
    width: auto;
    border-radius: 5px;
    overflow: hidden
}

.file-upload img {
    height: 100% !important;
    width: auto !important;
    border-radius: 0px;
    margin: 0 auto
}

.file-upload i {
    font-size: 6em;
    color: #ccc
}

.file-upload input {
    cursor: pointer;
    opacity: 0;
    height: 100%;
    width: 100%;
    z-index: 10;
    position: absolute;
    top: 0;
    left: 0
}

.item-wrapper input {
    height: 43px;
    line-height: 43px;
    border: 1px solid #ddd;
    border-radius: 4px;
    margin-bottom: 20px
}

</style>
<script>
</script>

    <h:panelGrid columns="2">
     <div>
      <h:panelGrid columns="4">
           
            <h:panelGrid columns="1">
             <h:graphicImage value="/img/Designview_256.png" height="50">
             </h:graphicImage>
             <h:graphicImage value="/img/Designview_256.png" height="50">
             </h:graphicImage>
            </h:panelGrid>&nbsp;
            <h:graphicImage value="/img/Search_256.png" height="50">
            </h:graphicImage>
            <h:graphicImage value="/img/Photos_256.png" height="100">
            </h:graphicImage>
      </h:panelGrid>
     </div>
        <h:outputText value="#{messages.theme} #{messages.Gallery} - #{messages['for']} #{messages.visitor} #{messages.pages}"/>
    </h:panelGrid>

    <h:messages globalOnly="true" styleClass="message"/>
<div class="item-wrapper one">
    <div class="item">
            <div class="item-inner">
                <div class="item-content">
                    <div class="image-upload"> <label style="cursor: pointer;" for="file_upload"> <img src="" alt="" class="uploaded-image"/>
                            <div class="h-100">
                                <div class="dplay-tbl">
                                    <div class="dplay-tbl-cell"> <i class="fa fa-cloud-upload"></i>
                                        <h5><b>Choose Your File to Upload</b></h5>
                                        <h6 class="mt-10 mb-70">Or Drop Your File Here</h6>
                                    </div>
                                </div>
                            </div>
                            <!--upload-content-->
                            <o:inputFile  value="#{file.lfiles}" multiple="true" 
                             accept="image/png,image/jp*,video/*,text/csv,.csv,text/comma-separated-values"/>

                            <h:commandButton value="Upload" action="#{file.fileUpload('')}"/>
                        </label>

                    </div>
                </div>
                <!--item-content-->
            </div>
            <!--item-inner-->
    </div>
    <!--item-->
                        &nbsp;&nbsp;&nbsp;<h:button outcome="/home.xhtml"
                    id="done"
                 value="Done"/>

</div>

</h:form>

</ui:define> 

</ui:composition>

